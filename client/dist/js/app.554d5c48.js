(function(t){function n(n){for(var r,i,s=n[0],c=n[1],u=n[2],l=0,d=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(n);while(d.length)d.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,i=1;i<e.length;i++){var c=e[i];0!==a[c]&&(r=!1)}r&&(o.splice(n--,1),t=s(s.s=e[0]))}return t}var r={},a={app:0},o=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"92e66b34"}[t]+".js"}function s(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.e=function(t){var n=[],e=a[t];if(0!==e)if(e)n.push(e[2]);else{var r=new Promise((function(n,r){e=a[t]=[n,r]}));n.push(e[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(t);var u=new Error;o=function(n){c.onerror=c.onload=null,clearTimeout(l);var e=a[t];if(0!==e){if(e){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,e[1](u)}a[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(n)},s.m=t,s.c=r,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)s.d(e,r,function(n){return t[n]}.bind(null,r));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var p=u;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("cd49")},"034f":function(t,n,e){"use strict";var r=e("19b3"),a=e.n(r);a.a},1:function(t,n){},"19b3":function(t,n,e){},"26dc":function(t,n,e){},4617:function(t,n,e){},6131:function(t,n,e){"use strict";var r=e("26dc"),a=e.n(r);a.a},7169:function(t,n,e){t.exports=e.p+"img/graceway.d32ee005.png"},cd49:function(t,n,e){"use strict";e.r(n);e("a4d3"),e("e01a"),e("d28b"),e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),a=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",fixed:"",temporary:""},model:{value:t.sideNav,callback:function(n){t.sideNav=n},expression:"sideNav"}},[t.user?t._e():r("div",[r("v-toolbar",{attrs:{color:"primary",dark:"",text:""}},[r("v-app-bar-nav-icon",{on:{click:t.toggleSideNav}}),r("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[r("h1",{staticClass:"title pl-3"},[t._v("GraceWayRadio")])])],1),r("v-divider")],1),r("v-list",{attrs:{nav:""}},[t.user?r("div",[r("v-list-item",{attrs:{to:"/profile"}},[r("v-list-item-avatar",[r("v-img",{attrs:{src:t.user.avatar}})],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[t._v("My Profile")])],1)],1),r("v-divider")],1):t._e(),t._l(t.navItems,(function(n,e){return r("v-list-item",{key:e,attrs:{ripple:"",to:n.link}},[r("v-list-item-action",[r("v-icon",[t._v(" "+t._s(n.icon)+" ")])],1),r("v-list-item-content",[t._v(" "+t._s(n.title)+" ")])],1)})),t.user?r("v-list-item",{on:{click:t.handleSignoutUser}},[r("v-list-item-action",[r("v-icon",[t._v("exit_to_app")])],1),r("v-list-item-content",[t._v("Signout")])],1):t._e()],2)],1),r("v-app-bar",{attrs:{app:"",color:"accent",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"mr-2",attrs:{alt:"GraceWay Radio Logo",contain:"",src:e("7169"),transition:"scale-transition",width:"50"}}),r("router-link",{staticClass:"mt-1",class:{title:t.$vuetify.breakpoint.smAndDown,"display-1":t.$vuetify.breakpoint.mdAndUp},staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/"}},[t._v(" GraceWayRadio ")])],1),r("v-spacer"),t.sideNav?t._e():r("v-app-bar-nav-icon",{on:{click:t.toggleSideNav}})],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("v-row",[t.$vuetify.breakpoint.smAndDown&&"home"!==t.$route.name?t._e():r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-fade-transition",{attrs:{mode:"out-in"}},[r("player")],1)],1),t.$vuetify.breakpoint.mdAndUp||"home"!==t.$route.name?r("v-col",{attrs:{cols:"12",md:"6"}},[r("transition",{attrs:{name:"fade"}},[r("router-view")],1)],1):t._e()],1)],1)],1),r("v-expand-transition",[t.$vuetify.breakpoint.smAndDown&&"home"!==t.$route.name?r("v-footer",{attrs:{app:"",padless:""}},[r("v-card",{staticClass:"secondary text-center",attrs:{flat:"",tile:"",height:"100px",width:"100%"}},[r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-row",{staticClass:"ml-0",attrs:{align:"center"}},[r("v-col",{staticClass:"pa-0",attrs:{col:"3"}},[r("v-img",{attrs:{src:t.imgUrl,height:"100px","max-width":"100px"}})],1),r("v-col",{staticClass:"pr-0",attrs:{col:"8"}},[r("div",{staticClass:"marquee-container"},[r("span",{staticClass:"d-block text-left title",class:[t.marqueeTrigger(t.currentSongInfo.title,16)?"marquee":""]},[t._v(t._s(t.currentSongInfo.title))]),r("span",{staticClass:"d-block text-left mt-n1 subtitle-1",class:[t.marqueeTrigger(t.currentSongInfo.artist,18)?"marquee":""]},[t._v(t._s(t.currentSongInfo.artist))])])]),r("v-spacer"),r("v-col",{staticClass:"align-center pl-0 pr-7",attrs:{col:"1"}},[t.isPlaying?r("v-btn",{attrs:{text:"",icon:"",height:"40",width:"40"},on:{click:t.playPause}},[r("v-icon",{attrs:{size:"40"}},[t._v("pause")])],1):r("v-btn",{attrs:{text:"",icon:"",height:"40",width:"40"},on:{click:t.playPause}},[r("v-icon",{attrs:{size:"40"}},[t._v("play_arrow")])],1)],1)],1)],1)],1)],1):t._e()],1),r("v-bottom-navigation",{attrs:{app:"",value:t.activeBtn,grow:"",fixed:"","background-color":"accent"}},[r("v-btn",{attrs:{to:"/"}},[r("span",[t._v("Home")]),r("v-icon",[t._v("home")])],1),r("v-btn",{attrs:{to:"/history"}},[r("span",[t._v("Recents")]),r("v-icon",[t._v("history")])],1),r("v-btn",{attrs:{to:"/favorites"}},[r("span",[t._v("Favorites")]),r("v-icon",[t._v("favorite")])],1),r("v-btn",{attrs:{to:"/upcoming"}},[r("span",[t._v("Upcoming")]),r("v-icon",[t._v("schedule")])],1)],1)],1)},o=[],i=(e("4de4"),e("4160"),e("e439"),e("dbb4"),e("b64b"),e("159b"),e("96cf"),e("2fa7")),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",[e("v-layout",{staticClass:"mt-n2"},[e("img",{staticClass:"main-image",class:{mobile:t.$vuetify.breakpoint.smAndDown},attrs:{src:t.imgUrl}})]),e("div",{staticClass:"mt-2"},[e("span",{staticClass:"d-block text-center title"},[t._v(t._s(t.currentSongInfo.title))]),e("span",{staticClass:"d-block text-center mt-n1 subtitle-1"},[t._v(t._s(t.currentSongInfo.artist))])]),e("v-row",{staticClass:"controls",attrs:{align:"center"}},[e("v-col",[e("div",{staticClass:"text-center"},[t.isPlaying?e("v-btn",{attrs:{text:"",icon:"",height:"80",width:"80"},on:{click:t.playPause}},[e("v-icon",{attrs:{size:"80"}},[t._v("pause")])],1):e("v-btn",{attrs:{text:"",icon:"",height:"80",width:"80"},on:{click:t.playPause}},[e("v-icon",{attrs:{size:"80"}},[t._v("play_arrow")])],1)],1)])],1)],1)},c=[],u=e("2f62");function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function p(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(e,!0).forEach((function(n){Object(i["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var d={name:"player",computed:p({},Object(u["b"])(["currentSongInfo","stream","isPlaying","imgUrl"])),methods:{playPause:function(){this.$store.dispatch("playPause")}}},f=d,v=(e("6131"),e("2877")),g=e("6544"),m=e.n(g),h=e("8336"),b=e("62ad"),y=e("a523"),_=e("132d"),S=e("a722"),w=e("0fd9"),O=Object(v["a"])(f,s,c,!1,null,null,null),E=O.exports;m()(O,{VBtn:h["a"],VCol:b["a"],VContainer:y["a"],VIcon:_["a"],VLayout:S["a"],VRow:w["a"]});var k=e("8055"),C=e.n(k);function P(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function T(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?P(e,!0).forEach((function(n){Object(i["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):P(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var I=r["a"].extend({name:"App",components:{Player:E},data:function(){return{socket:C()("https://gwradio.herokuapp.com/"),isConnected:!1,activeBtn:0,searchTerm:"",sideNav:!1,isMinimized:!1}},created:function(){this.$store.dispatch("getCurrentSongs")},computed:T({},Object(u["b"])(["user","currentSongInfo","loading","isPlaying","imgUrl"]),{navItems:function(){var t=[{icon:"library_music",title:"Songs",link:"/songs"},{icon:"lock_open",title:"Log In",link:"/login"}];return this.user&&(t=[{icon:"create",title:"Placeholder link",link:"/post/add"}]),t}}),mounted:function(){var t=this;this.socket.on("updateSongInfo",(function(){t.refreshSongInfo()}))},methods:{refreshSongInfo:function(){var t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=function(t){return new Promise((function(n){return setTimeout(n,t)}))},n.next=3,regeneratorRuntime.awrap(t(13e3));case 3:this.$store.dispatch("getCurrentSongs"),console.log("update the song info, jimmy!");case 5:case"end":return n.stop()}}),null,this)},playPause:function(){this.$store.dispatch("playPause")},toggleSideNav:function(){this.sideNav=!this.sideNav},handleSignoutUser:function(){this.$store.dispatch("signoutUser")},marqueeTrigger:function(t,n){return!!(t&&t.length>n)}}}),R=I,j=(e("034f"),e("7496")),x=e("40dc"),N=e("5bc1"),V=e("b81c"),U=e("b0af"),A=e("a75b"),D=e("ce7e"),L=e("0789"),$=e("553a"),G=e("adda"),q=e("8860"),F=e("da13"),H=e("1800"),B=e("8270"),M=e("5d23"),z=e("f774"),Q=e("2fa4"),Y=e("71d9"),W=Object(v["a"])(R,a,o,!1,null,null,null),J=W.exports;m()(W,{VApp:j["a"],VAppBar:x["a"],VAppBarNavIcon:N["a"],VBottomNavigation:V["a"],VBtn:h["a"],VCard:U["a"],VCol:b["a"],VContainer:y["a"],VContent:A["a"],VDivider:D["a"],VExpandTransition:L["a"],VFadeTransition:L["b"],VFooter:$["a"],VIcon:_["a"],VImg:G["a"],VList:q["a"],VListItem:F["a"],VListItemAction:H["a"],VListItemAvatar:B["a"],VListItemContent:M["a"],VListItemTitle:M["b"],VNavigationDrawer:z["a"],VRow:w["a"],VSpacer:Q["a"],VToolbar:Y["a"]});var K=e("8c4f"),X=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-card-title",[e("h1",{staticClass:"title"},[t._v("Welcome!")])])],1)},Z=[],tt={name:"home"},nt=tt,et=e("99d9"),rt=Object(v["a"])(nt,X,Z,!1,null,null,null),at=rt.exports;m()(rt,{VCardTitle:et["c"]});var ot=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",[e("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"secondary","max-width":"400"}},[e("v-card-title",[t.signup?e("h1",{staticClass:"display-1"},[t._v("Register")]):e("h1",{staticClass:"display-1"},[t._v("Login")])]),e("v-card-text",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.isFormValid,callback:function(n){t.isFormValid=n},expression:"isFormValid"}},[e("v-text-field",{attrs:{placeholder:"Username","prepend-icon":"account_circle"},model:{value:t.username,callback:function(n){t.username=n},expression:"username"}}),e("v-expand-transition",[t.signup?e("v-text-field",{attrs:{autofocus:!!t.username,"prepend-icon":"email",placeholder:"Email"},model:{value:t.email,callback:function(n){t.email=n},expression:"email"}}):t._e()],1),e("v-text-field",{attrs:{placeholder:"Password",type:t.showPassword?"text":"password","prepend-icon":"lock","append-icon":t.showPassword?"visibility":"visibility_off"},on:{"click:append":function(n){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),e("v-expand-transition",[t.signup?e("v-text-field",{attrs:{placeholder:"Confirm Password",type:t.showPassword?"text":"password","prepend-icon":"gavel","append-icon":t.showPassword?"visibility":"visibility_off"},on:{"click:append":function(n){t.showPassword=!t.showPassword}},model:{value:t.passwordConfirmation,callback:function(n){t.passwordConfirmation=n},expression:"passwordConfirmation"}}):t._e()],1)],1)],1),e("v-divider"),e("v-card-actions",[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-btn",t._g({attrs:{color:"accent"}},r),[t.signup?e("span",{on:{click:function(n){t.signup=!1}}},[t._v("Login")]):e("span",{on:{click:function(n){t.signup=!0}}},[t._v("Register")])])]}}])},[t.signup?e("span",[t._v("Already have an account? Login!")]):e("span",[t._v("Don't have an account? Register!")])]),e("v-spacer"),e("v-btn",{attrs:{color:"info",loading:t.loading,disabled:!t.isFormValid||t.loading},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"custom-loader"},[e("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]}}])},[t.signup?e("span",{on:{click:function(n){return n.preventDefault(),t.handleSignupUser(n)}}},[t._v("Register")]):e("span",{on:{click:function(n){return n.preventDefault(),t.handleSigninUser(n)}}},[t._v("Login")])])],1)],1)],1)},it=[];function st(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ct(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?st(e,!0).forEach((function(n){Object(i["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):st(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var ut={name:"Signup",data:function(){return{isFormValid:!0,showPassword:!1,signup:!1,username:"",email:"",password:"",passwordConfirmation:""}},computed:ct({},Object(u["b"])(["user","error","loading"])),watch:{user:function(t){t&&this.$router.push("/")}},methods:{handleSignupUser:function(){this.$refs.form.validate()&&this.$store.dispatch("signupUser",{username:this.username,email:this.email,password:this.password})},handleSigninUser:function(){this.$refs.form.validate()&&this.$store.dispatch("signinUser",{username:this.username,password:this.password})}}},lt=ut,pt=(e("d6db"),e("4bd4")),dt=e("8654"),ft=e("3a2f"),vt=Object(v["a"])(lt,ot,it,!1,null,null,null),gt=vt.exports;m()(vt,{VBtn:h["a"],VCard:U["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VContainer:y["a"],VDivider:D["a"],VExpandTransition:L["a"],VForm:pt["a"],VIcon:_["a"],VSpacer:Q["a"],VTextField:dt["a"],VTooltip:ft["a"]}),r["a"].use(K["a"]);var mt=[{path:"/",name:"home",component:at},{path:"/login",name:"login",component:gt},{path:"/about",name:"about",component:function(){return e.e("about").then(e.bind(null,"f820"))}}],ht=new K["a"]({mode:"history",base:"/",routes:mt}),bt=ht,yt=e("1e5c"),_t=e("9a2e"),St=e("2c82");function wt(){var t=Object(_t["a"])(["\n    query($songId: ID!) {\n        getSong(songId: $songId) {\n            _id\n            title\n            artist\n            album\n            picture\n            duration\n            minsec\n            songid\n            feedback {\n                likes\n                dislikes\n            }\n        }\n    }\n"]);return wt=function(){return t},t}function Ot(){var t=Object(_t["a"])(["\n    query {\n        getSongs {\n            _id\n            title\n            artist\n            album\n            picture\n            duration\n            minsec\n            songid\n            feedback {\n                likes\n                dislikes\n            }\n        }\n    }\n"]);return Ot=function(){return t},t}function Et(){var t=Object(_t["a"])(["\n    query {\n        getCurrentSongs {\n            song_info {\n                _id\n                title\n                artist\n                album\n                picture\n                duration\n                minsec\n                songid\n            }\n            song_history {\n                _id\n                title\n                artist\n                album\n                picture\n                duration\n                minsec\n                songid\n            }\n            song_queue {\n                _id\n                title\n                artist\n                album\n                picture\n                duration\n                minsec\n                songid\n            }\n        }\n    }\n"]);return Et=function(){return t},t}function kt(){var t=Object(_t["a"])(["\n    mutation($username: String!, $email: String! $password: String!) {\n        signupUser(username: $username, email: $email, password: $password) {\n            token\n        }\n    }\n"]);return kt=function(){return t},t}function Ct(){var t=Object(_t["a"])(["\n    mutation($username: String!, $password: String!) {\n        signinUser(username: $username, password: $password) {\n            token\n        }\n    }\n"]);return Ct=function(){return t},t}function Pt(){var t=Object(_t["a"])(["\n    query {\n        getCurrentUser {\n            _id\n            username\n            email\n            password\n            avatar\n            joinDate\n            favorites {\n                _id\n                title\n                artist\n                album\n            }\n            disliked {\n                _id\n                combine\n            }\n        }\n    }\n"]);return Pt=function(){return t},t}var Tt=Object(St["b"])(Pt()),It=Object(St["b"])(Ct()),Rt=Object(St["b"])(kt()),jt=Object(St["b"])(Et()),xt=Object(St["b"])(Ot()),Nt=Object(St["b"])(wt());r["a"].use(u["a"]);var Vt=new u["a"].Store({state:{songs:[],currentSongInfo:{},currentSongHistory:[],currentSongQueue:[],song:{},user:null,loading:!1,error:null,authError:null,searchResults:[],isPlaying:!1,hqStream:"http://136.0.16.57:8000/.stream"},mutations:{SET_IS_PLAYING:function(t,n){t.isPlaying=n},SET_SONGS:function(t,n){t.songs=n},SET_CURRENT_SONG_INFO:function(t,n){t.currentSongInfo=n},SET_CURRENT_SONG_HISTORY:function(t,n){t.currentSongHistory=n},SET_CURRENT_SONG_QUEUE:function(t,n){t.currentSongQueue=n},SET_SONG:function(t,n){t.song=n},SET_ERROR:function(t,n){t.error=n},SET_AUTH_ERROR:function(t,n){t.authError=n},SET_USER:function(t,n){t.user=n},CLEAR_USER:function(t){return t.user=null},CLEAR_ERROR:function(t){return t.error=null},SET_LOADING:function(t,n){t.loading=n}},actions:{playPause:function(t){var n=t.commit,e=t.state,r=t.getters;e.isPlaying?(r.stream.pause(),n("SET_IS_PLAYING",!1)):(r.stream.play(),n("SET_IS_PLAYING",!0))},getCurrentUser:function(t){var n=t.commit;n("SET_LOADING",!0),Lt.query({query:Tt}).then((function(t){var e=t.data;n("SET_LOADING",!1),n("SET_USER",e.getCurrentUser)})).catch((function(t){n("SET_LOADING",!1),console.error(t)}))},signinUser:function(t,n){var e=t.commit;e("CLEAR_ERROR"),e("SET_LOADING",!0),Lt.mutate({mutation:It,variables:n}).then((function(t){var n=t.data;e("SET_LOADING",!1),localStorage.setItem("token",n.signinUser.token),bt.go(0)})).catch((function(t){e("SET_LOADING",!1),e("SET_ERROR",t)}))},signupUser:function(t,n){var e=t.commit;e("CLEAR_ERROR"),e("SET_LOADING",!0),Lt.mutate({mutation:Rt,variables:{email:n.email,password:n.password,username:n.username}}).then((function(t){var n=t.data;e("SET_LOADING",!1),localStorage.setItem("token",n.signupUser.token),bt.go(0)})).catch((function(t){e("SET_LOADING",!1),e("SET_ERROR",t)}))},signoutUser:function(t){var n;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("CLEAR_USER"),localStorage.setItem("token",""),e.next=5,regeneratorRuntime.awrap(Lt.resetStore());case 5:"/"!==bt.currentRoute.path&&bt.push("/");case 6:case"end":return e.stop()}}))},getCurrentSongs:function(t){var n;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("SET_LOADING",!0),Lt.query({query:jt,fetchPolicy:"no-cache"}).then((function(t){var e=t.data;n("SET_CURRENT_SONG_INFO",e.getCurrentSongs.song_info),n("SET_CURRENT_SONG_HISTORY",e.getCurrentSongs.song_history),n("SET_CURRENT_SONG_QUEUE",e.getCurrentSongs.song_queue),n("SET_LOADING",!1)})).catch((function(t){n("SET_LOADING",!1),console.error(t)}));case 3:case"end":return e.stop()}}))},getSongs:function(t){var n;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("SET_LOADING",!0),Lt.query({query:xt}).then((function(t){var e=t.data;n("SET_SONGS",e.getSongs),n("SET_LOADING",!1)})).catch((function(t){n("SET_LOADING",!1),console.error(t)}));case 3:case"end":return e.stop()}}))},getSong:function(t,n){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e=t.commit,e("SET_LOADING",!0),Lt.query({query:Nt,variables:n}).then((function(t){var n=t.data;e("SET_LOADING",!1),e("SET_SONG",n.getSong)})).catch((function(t){e("SET_LOADING",!1),console.error(t)}));case 3:case"end":return r.stop()}}))}},getters:{songs:function(t){return t.songs},searchResults:function(t){return t.searchResults},loading:function(t){return t.loading},user:function(t){return t.user},authError:function(t){return t.authError},error:function(t){return t.error},song:function(t){return t.song},currentSongInfo:function(t){return t.currentSongInfo},currentSongHistory:function(t){return t.currentSongHistory},currentSongQueue:function(t){return t.currentSongQueue},isPlaying:function(t){return t.isPlaying},stream:function(t){var n=new yt["Howl"]({src:t.hqStream,html5:!0,onplayerror:function(){return console.log("play error")}});return n},imgUrl:function(t,n){var e="https://radiomv.org/samHTMweb/";return n.currentSongInfo.picture?e+n.currentSongInfo.picture:t.loading?e+"loading.gif":e+"customMissing.jpg"}},modules:{}}),Ut=e("f309");r["a"].use(Ut["a"]);var At=new Ut["a"]({theme:{dark:!0,themes:{dark:{primary:"#007f97",secondary:"#a4bcbc",accent:"#7c587f",info:"#4c3f77",warning:"#051126"}}}}),Dt=(e("d5e8"),e("d1e78"),e("522d"));e.d(n,"defaultClient",(function(){return Lt})),r["a"].use(Dt["a"]),r["a"].config.productionTip=!1;var Lt=new St["a"]({uri:"https://gwradio.herokuapp.com/graphql",fetchOptions:{credentials:"include"},request:function(t){localStorage.token||localStorage.setItem("token",""),t.setContext({headers:{authorization:localStorage.getItem("token")}})},onError:function(t){var n=t.graphQLErrors,e=t.networkError;if(e&&console.log("[Network Error]",e),n){var r=!0,a=!1,o=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;console.dir(c),"AuthenticationError"===c.name&&(Vt.commit("SET_AUTH_ERROR",c),Vt.dispatch("signoutUser"))}}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}}}),$t=new Dt["a"]({defaultClient:Lt});new r["a"]({apolloProvider:$t,router:bt,store:Vt,vuetify:At,render:function(t){return t(J)},created:function(){Vt.dispatch("getCurrentUser")}}).$mount("#app")},d6db:function(t,n,e){"use strict";var r=e("4617"),a=e.n(r);a.a}});
//# sourceMappingURL=app.554d5c48.js.map